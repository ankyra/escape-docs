name: heist/escape-docs
version: 0.2.@
depends:
- escape-client-latest as escape
- escape-registry-latest as registry
extends:
- extension-docker-kubespec-latest
inputs:
- default: escape-docs
  id: docker_image
- default:
  - deployment.yml
  id: kube_spec_files
  type: list[string]
includes:
- public/
- config.toml
- Dockerfile
deploy_templates:
- file: config.toml.tpl
  mapping:
    escape_client_version: $escape.version
    escape_registry_version: $registry.version
- file: deployment.yml.tpl
  mapping:
    docker_image: $this.inputs.docker_repository.concat($this.inputs.docker_image,
      ":", $this.inputs.docker_image_version)
build: build.sh

